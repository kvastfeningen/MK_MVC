
guessNum


@{
    ViewData["Title"] = "GuessNum";
}
<p>@ViewBag.Word</p>
<p>@ViewBag.SecNum</p>
<h1>GuessNum</h1>
 
 

<form  method="post" action="GuessNum" controller="GuessNumber">
 
    <span>Gissa ett tal!  </span> <input id="guess" type="text" name="guess" /> <br /><br />
    
    <input id="Submit" type="submit" value="Submit" />
</form>
<p>@ViewBag.Msg</p>


setNum

@{
    ViewData["Title"] = "SetNum";
}
<body>
<h1>SetNum</h1>
<p>@ViewBag.SecNum</p>
<p>@ViewBag.Word</p>
<p>@ViewBag.SecNum</p>
</body>

controlller


using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using System;


namespace MK_MVC.Controllers
{
    public class Number : Controller
    {
        //const string correctNumber = "num";
        public IActionResult Index()
        {
            Random rnd = new Random();
            int correctNumber = rnd.Next(1, 101);
            HttpContext.Session.SetInt32("num", correctNumber);
            return View();
        }

        
        
        public IActionResult SetNum()
        {
           // Random rnd = new Random();
            //int correctNumber = rnd.Next(1, 101);
           // HttpContext.Session.SetInt32("correctNumber", correctNumber);
            ViewBag.Word = "Va faan";
            ViewBag.SecNum = HttpContext.Session.GetInt32("num");
            return View();
        }
        
        [HttpPost]
        public IActionResult SetNum(int correctNumber)
        {
            /*
            HttpContext.Session.SetInt32("correctNumber", correctNumber);
            ViewBag.SecNum = correctNumber;
            ViewBag.Word = "Va faan";*/
            return View();
            //Session["correctNumber"] = correctNumber;
            // HttpContext.Session("sessionString") = correctNumber;
            //HttpContext.Session.SetInt32("correctNumber", correctNumber);// = correctNumber;
            //return RedirectToAction("GuessNum");
            //return View();


        }

        [HttpPost]
        public IActionResult GuessNum(int guess, int correctnumber)

        {

            ViewBag.Word = "Va faan";
           //
           //ViewBag.SecNum = HttpContext.Session.GetInt32("correctNumber");
            int num = (int)HttpContext.Session.GetInt32("correctNumber");
            ViewBag.SecNum = num;


            HttpContext.Session.SetInt32("guessInput", guess);

                if(guess > num)
                {
                ViewBag.Msg = "För högt!";
                 }
            else if (guess < num)
            {
                ViewBag.Msg = "För lågt!";
            }
                else 
            {
                ViewBag.Msg = "Grattis, du fixade det!";
            }
           
            return View();
        }

        public IActionResult GuessNum()
        {

            ViewBag.Word = "Va faan";
            //ViewBag.SecNum = correctNumber;


            return View();

        }
    }
}
